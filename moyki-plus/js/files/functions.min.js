jQuery(document).ready((function(t){function a(a){var e=t(a).find('input[type="checkbox"]'),i=e.parents(".form-group").find('input[type="tel"]');e.is(":checked")?(i.mask("+7 (999) 999-99-99"),i.attr("placeholder","+7 (___) ___-__-__")):(i.mask("0#"),i.attr("placeholder","Номер телефона"))}t(".switch-input-mask").each((function(e,i){a(i),t(i).find('input[type="checkbox"]').on("input checked",(function(){a(i)}))})),t.fn.sortList=function(){var a=t(this),e=t(".form-checkbox",a).get();e.sort((function(a,e){return t(a).text().toUpperCase()<t(e).text().toUpperCase()?-1:1})),t.each(e,(function(a,e){var i=t(e).text().charAt(0);t(this).parent().find('[data-letter="'+i+'"]').length||t(this).parent().append('<div data-letter="'+i+'"><span>'+i+"</span></div>"),t(this).parent().find('[data-letter="'+i+'"]').append(this)}))},t("#sort-brand-az").sortList(),t(".filter-alphabet .filter-search-control").on("keyup",(function(){var a=this.value.toLowerCase().trim();t(".filter-alphabet-list div").show().filter((function(){return-1==t(this).text().toLowerCase().trim().indexOf(a)})).hide()})),String.prototype.getDecimals||(String.prototype.getDecimals=function(){var t=(""+this).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}),productQuantity=function(){t(document).on("click",".quantity-minus, .quantity-plus",(function(){var a=t(this).closest(".quantity").find(".quantity-value"),e=parseFloat(a.attr("data-quantity-value")),i=parseFloat(a.attr("max")),n=parseFloat(a.attr("min")),r=a.attr("step");if(e&&""!==e&&"NaN"!==e||(e=0),""!==i&&"NaN"!==i||(i=""),""!==n&&"NaN"!==n||(n=0),"any"!==r&&""!==r&&void 0!==r&&"NaN"!==parseFloat(r)||(r="1"),t(this).is(".quantity-plus"))if(i&&e>=i)a.val(i+" шт."),a.attr("data-quantity-value",i);else{var o=(e+parseFloat(r)).toFixed(r.getDecimals());a.val(o+" шт."),a.attr("data-quantity-value",o)}else if(n&&e<=n)a.val(n+" шт."),a.attr("data-quantity-value",n);else if(e>0){var s=(e-parseFloat(r)).toFixed(r.getDecimals());a.val(s+" шт."),a.attr("data-quantity-value",s)}a.attr("data-quantity-value",parseInt(a.val())),a.trigger("change")}))},productQuantity()}));