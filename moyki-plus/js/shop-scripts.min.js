document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".s-catalog .s-catalog-category-slider"),t=document.querySelectorAll(".s-subcategory .s-subcategory-list"),a=window.matchMedia("(min-width: 767.98px)");e.forEach((e,t)=>{let i;e.classList.add("s-catalog-category-slider-"+t);var r=function(){if(!0!==a.matches)return!1===a.matches?o():void 0;void 0!==i&&i.destroy(!0,!0)},o=function(){i=new Swiper(".s-catalog .s-catalog-category-slider-"+t,{loop:!1,speed:650,spaceBetween:10,autoHeight:!0,pagination:{el:".s-catalog .s-catalog-category-slider-"+t+" .swiper-pagination",type:"bullets",clickable:!0}})};a.addListener(r),r()}),t.forEach((e,t)=>{let i;var r=function(){if(!0!==a.matches)return!1===a.matches?o():void 0;void 0!==i&&i.destroy(!0,!0)},o=function(){i=new Swiper(".s-subcategory .s-subcategory-list-slider",{loop:!1,speed:650,spaceBetween:10,autoHeight:!0,pagination:{el:".s-subcategory .s-subcategory-list-slider .swiper-pagination",type:"bullets",clickable:!0}})};a.addListener(r),r()});brandsGrid=function(){let e=document.querySelectorAll(".s-catalog-brands-item");for(let t,a=0;t=e[a];a++){t.classList.remove("s-catalog-brands-item-ready");let e=t.offsetHeight,a=Math.ceil(e/20);t.style.gridRowEnd="span "+a,t.classList.add("s-catalog-brands-item-ready")}},window.addEventListener("load",brandsGrid),window.addEventListener("resize",()=>{clearTimeout(brandsGrid.resizeTimer),brandsGrid.resizeTimer=setTimeout(brandsGrid,50)}),document.querySelectorAll(".filter-slider-handle").forEach(e=>{let t=parseInt(e.dataset.slidermin),a=parseInt(e.dataset.slidermax);noUiSlider.create(e,{start:[t,a],connect:!0,range:{min:t,max:a}});var i=e.nextElementSibling.querySelector(".filter-slider-from"),r=e.nextElementSibling.querySelector(".filter-slider-to");function o(){var t,a;""!=i.value&&(t=i.value),""!=r.value&&(a=r.value),e.noUiSlider.set([t,a])}i.addEventListener("change",o),r.addEventListener("change",o),e.noUiSlider.on("update",(function(e,t){var a=e[t];0==t&&(i.value=Math.round(a)),1==t&&(r.value=Math.round(a))})),document.querySelector('button[type="reset"]').addEventListener("click",(function(){e.noUiSlider.set([parseInt(e.dataset.slidermin),parseInt(e.dataset.slidermax)]),i.setAttribute("value",parseInt(e.dataset.slidermin)),r.setAttribute("value",parseInt(e.dataset.slidermax))}))});var i=document.querySelector("#m-discount-slider");if(void 0!==i&&null!=i){var r=parseInt(i.dataset.slidermin),o=parseInt(i.dataset.slidermax),n=document.querySelector(".discount-modal-slider-value");noUiSlider.create(i,{start:r+1,step:1,connect:[!0,!1],range:{min:r,max:o}}),n.value=Math.round(i.noUiSlider.get())+"%",i.noUiSlider.on("update",(function(e){n.value=Math.round(e)+"%",function(e){var t=document.querySelector(".product-single .product-price .price-wrapper ins").dataset.finalPrice,a=parseInt(t),i=document.querySelector(".discount-modal-new-price"),r=a*Math.round(e)/100;i.value=Math.round(a-r).toLocaleString("ru")+" Руб."}(e)}))}})),jQuery(document).ready((function(e){if(e(".clone-widgets").length&&window.matchMedia("(max-width: 991.98px)").matches&&e(".page-widgets").appendTo(".clone-widgets"),e(".product-complect").length&&window.matchMedia("(min-width: 768px)").matches){var t=e(".product-complect"),a=t.offset().top-100;e(window).on("scroll load",(function(){e(window).scrollTop()>=a?t.addClass("_sticky"):t.removeClass("_sticky")}))}e(".filter-toggle-header._toggled, .widget-header._toggled").next().css("display","block");var i=new Swiper(".product-single .product-preview-thumbs-slider",{allowTouchMove:!0,loop:!1,slidesPerView:5,spaceBetween:6,pagination:{el:".product-preview-thumbs-slider .swiper-pagination",type:"bullets",clickable:!0},breakpoints:{576:{allowTouchMove:!1,slidesPerView:"auto",spaceBetween:0,pagination:!1}}});new Swiper(".product-single .product-preview-photo-slider",{effect:"fade",fadeEffect:{crossFade:!0},grabCursor:!0,loop:!1,slidesPerView:1,thumbs:{swiper:i}});e(".product-preview-photo-zoom > a").on("click",(function(){var t=e(".product-preview-photo-slider .swiper-slide-active").data("product-full-preview");e(this).attr("href",t)})),e(".clone-product-summary").length&&window.matchMedia("(max-width: 991.98px)").matches&&e(".product-main-right").appendTo(".clone-product-summary"),e('[data-toggle="delivery-datepicker"]').length&&(moment.locale("ru"),e('[data-toggle="delivery-datepicker"]').each((function(t,a){e(a).dateRangePicker({language:"ru",autoClose:!0,startDate:new Date,selectForward:!0,startOfWeek:"monday",minDays:1,maxDays:30,setValue:function(t,a,i){var r=e(this).find("input.delivery-from"),o=e(this).find("input.delivery-to"),n=e(this).find(".delivery-output"),d=moment(a),s=moment(i);r.val(a),o.val(i),n.text("От "+d.format("D MMMM")+" до "+s.format("D MMMM"))},customOpenAnimation:function(t){e(this).fadeIn(200,t)},customCloseAnimation:function(t){e(this).fadeOut(200,t)}})})))}));