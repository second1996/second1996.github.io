document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".s-catalog .s-catalog-category-slider"),t=document.querySelectorAll(".s-subcategory .s-subcategory-list"),a=window.matchMedia("(min-width: 767.98px)");e.length&&e.forEach((e,t)=>{let i;e.classList.add("s-catalog-category-slider-"+t);var o=function(){if(!0!==a.matches)return!1===a.matches?r():void 0;void 0!==i&&i.destroy(!0,!0)},r=function(){i=new Swiper(".s-catalog .s-catalog-category-slider-"+t,{loop:!1,speed:650,spaceBetween:10,autoHeight:!0,pagination:{el:".s-catalog .s-catalog-category-slider-"+t+" .swiper-pagination",type:"bullets",clickable:!0}})};a.addListener(o),o()}),t.length&&t.forEach((e,t)=>{let i;var o=function(){if(!0!==a.matches)return!1===a.matches?r():void 0;void 0!==i&&i.destroy(!0,!0)},r=function(){i=new Swiper(".s-subcategory .s-subcategory-list-slider",{loop:!1,speed:650,spaceBetween:10,autoHeight:!0,pagination:{el:".s-subcategory .s-subcategory-list-slider .swiper-pagination",type:"bullets",clickable:!0}})};a.addListener(o),o()});brandsGrid=function(){let e=document.querySelectorAll(".s-catalog-brands-item");for(let t,a=0;t=e[a];a++){t.classList.remove("s-catalog-brands-item-ready");let e=t.offsetHeight,a=Math.ceil(e/20);t.style.gridRowEnd="span "+a,t.classList.add("s-catalog-brands-item-ready")}},window.addEventListener("load",brandsGrid),window.addEventListener("resize",()=>{clearTimeout(brandsGrid.resizeTimer),brandsGrid.resizeTimer=setTimeout(brandsGrid,50)});var i=document.querySelector("#m-discount-slider");if(void 0!==i&&null!=i){var o=parseInt(i.dataset.slidermin),r=parseInt(i.dataset.slidermax),s=document.querySelector(".discount-modal-slider-value");noUiSlider.create(i,{start:o+1,step:1,connect:[!0,!1],range:{min:o,max:r}}),s.value=Math.round(i.noUiSlider.get())+"%",i.noUiSlider.on("update",(function(e){s.value=Math.round(e)+"%",function(e){var t=document.querySelector(".product-single .product-price .price-wrapper ins").dataset.finalPrice,a=parseInt(t),i=document.querySelector(".discount-modal-new-price"),o=a*Math.round(e)/100;i.value=Math.round(a-o).toLocaleString("ru")+" Руб."}(e)}))}})),jQuery(document).ready((function(e){if(e(".clone-widgets").length&&window.matchMedia("(max-width: 991.98px)").matches&&e(".page-widgets").appendTo(".clone-widgets"),e(".product-complect").length&&window.matchMedia("(min-width: 768px)").matches){var t=e(".product-complect"),a=t.offset().top-100;e(window).on("scroll load",(function(){e(window).scrollTop()>=a?t.addClass("_sticky"):t.removeClass("_sticky")}))}e(".filter-toggle-header._toggled, .widget-header._toggled").next().css("display","block"),e(".widget-filters-form").on("change",(function(t){var a=e(this).offset().top,i=e(this).find(".filter-results");e(this).find(".filter-triggers").show(),filterResults=function(){var o=e(t.target),r=o.offset().top-a;o.hasClass("filter-search-control")?e(i).removeClass("_active"):(e(i).addClass("_active"),e(i).attr("style","top: "+r+"px")),e(".filter-search-control").on("keyup",(function(){e(i).removeClass("_active")}))},filterResults()}));var i=new Swiper(".product-single .product-preview-thumbs-slider",{allowTouchMove:!0,loop:!1,slidesPerView:5,spaceBetween:6,pagination:{el:".product-preview-thumbs-slider .swiper-pagination",type:"bullets",clickable:!0},breakpoints:{576:{allowTouchMove:!1,slidesPerView:"auto",spaceBetween:0,pagination:!1}}});new Swiper(".product-single .product-preview-photo-slider",{effect:"fade",fadeEffect:{crossFade:!0},grabCursor:!0,loop:!1,slidesPerView:1,thumbs:{swiper:i}});e(".product-preview-photo-zoom > a").on("click",(function(){var t=e(".product-preview-photo-slider .swiper-slide-active").data("product-full-preview");e(this).attr("href",t)})),e(".clone-product-summary").length&&window.matchMedia("(max-width: 991.98px)").matches&&e(".product-main-right").appendTo(".clone-product-summary"),e('[data-toggle="delivery-datepicker"]').length&&(moment.locale("ru"),e('[data-toggle="delivery-datepicker"]').each((function(t,a){e(a).dateRangePicker({language:"ru",autoClose:!0,startDate:new Date,selectForward:!0,startOfWeek:"monday",minDays:1,maxDays:30,setValue:function(t,a,i){var o=e(this).find("input.delivery-from"),r=e(this).find("input.delivery-to"),s=e(this).find(".delivery-output"),n=moment(a),d=moment(i);o.val(a),r.val(i),s.text("От "+n.format("D MMMM")+" до "+d.format("D MMMM"))},customOpenAnimation:function(t){e(this).fadeIn(200,t)},customCloseAnimation:function(t){e(this).fadeOut(200,t)}})})))}));