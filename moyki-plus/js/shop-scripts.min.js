document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".s-catalog .s-catalog-category-slider"),t=document.querySelectorAll(".s-subcategory .s-subcategory-list"),a=window.matchMedia("(min-width: 767.98px)");e.forEach((e,t)=>{let r;e.classList.add("s-catalog-category-slider-"+t);var i=function(){if(!0!==a.matches)return!1===a.matches?o():void 0;void 0!==r&&r.destroy(!0,!0)},o=function(){r=new Swiper(".s-catalog .s-catalog-category-slider-"+t,{loop:!1,speed:650,spaceBetween:10,autoHeight:!0,pagination:{el:".s-catalog .s-catalog-category-slider-"+t+" .swiper-pagination",type:"bullets",clickable:!0}})};a.addListener(i),i()}),t.forEach((e,t)=>{let r;var i=function(){if(!0!==a.matches)return!1===a.matches?o():void 0;void 0!==r&&r.destroy(!0,!0)},o=function(){r=new Swiper(".s-subcategory .s-subcategory-list-slider",{loop:!1,speed:650,spaceBetween:10,autoHeight:!0,pagination:{el:".s-subcategory .s-subcategory-list-slider .swiper-pagination",type:"bullets",clickable:!0}})};a.addListener(i),i()});brandsGrid=function(){let e=document.querySelectorAll(".s-catalog-brands-item");for(let t,a=0;t=e[a];a++){t.classList.remove("s-catalog-brands-item-ready");let e=t.offsetHeight,a=Math.ceil(e/20);t.style.gridRowEnd="span "+a,t.classList.add("s-catalog-brands-item-ready")}},window.addEventListener("load",brandsGrid),window.addEventListener("resize",()=>{clearTimeout(brandsGrid.resizeTimer),brandsGrid.resizeTimer=setTimeout(brandsGrid,50)}),document.querySelectorAll(".filter-slider-handle").forEach(e=>{let t=parseInt(e.dataset.slidermin),a=parseInt(e.dataset.slidermax);noUiSlider.create(e,{start:[t,a],connect:!0,range:{min:t,max:a}});var r=e.nextElementSibling.querySelector(".filter-slider-from"),i=e.nextElementSibling.querySelector(".filter-slider-to");function o(){var t,a;""!=r.value&&(t=r.value),""!=i.value&&(a=i.value),e.noUiSlider.set([t,a])}r.addEventListener("change",o),i.addEventListener("change",o),e.noUiSlider.on("update",(function(e,t){var a=e[t];0==t&&(r.value=Math.round(a)),1==t&&(i.value=Math.round(a))})),document.querySelector('button[type="reset"]').addEventListener("click",(function(){e.noUiSlider.set([parseInt(e.dataset.slidermin),parseInt(e.dataset.slidermax)]),r.setAttribute("value",parseInt(e.dataset.slidermin)),i.setAttribute("value",parseInt(e.dataset.slidermax))}))});var r=document.querySelector("#m-discount-slider");if(void 0!==r&&null!=r){var i=parseInt(r.dataset.slidermin),o=parseInt(r.dataset.slidermax),n=document.querySelector(".discount-modal-slider-value");noUiSlider.create(r,{start:i+1,step:1,connect:[!0,!1],range:{min:i,max:o}}),n.value=Math.round(r.noUiSlider.get())+"%",r.noUiSlider.on("update",(function(e){n.value=Math.round(e)+"%",function(e){var t=document.querySelector(".product-single .product-price .price-wrapper > ins").innerHTML,a=parseInt(t.replace(/\s+/g,""),10),r=document.querySelector(".discount-modal-new-price"),i=a*Math.round(e)/100;r.value=Math.round(a-i).toLocaleString("ru")+" Руб."}(e)}))}})),jQuery(document).ready((function(e){if(e(".clone-widgets").length&&window.matchMedia("(max-width: 991.98px)").matches&&e(".page-widgets").appendTo(".clone-widgets"),e(".product-complect").length&&window.matchMedia("(min-width: 768px)").matches){var t=e(".product-complect"),a=t.offset().top-100;e(window).on("scroll load",(function(){e(window).scrollTop()>=a?t.addClass("_sticky"):t.removeClass("_sticky")}))}e(".filter-toggle-header._toggled, .widget-header._toggled").next().css("display","block");var r=new Swiper(".product-single .product-preview-thumbs-slider",{allowTouchMove:!0,loop:!1,slidesPerView:5,spaceBetween:6,pagination:{el:".product-preview-thumbs-slider .swiper-pagination",type:"bullets",clickable:!0},breakpoints:{576:{allowTouchMove:!1,slidesPerView:"auto",spaceBetween:0,pagination:!1}}});new Swiper(".product-single .product-preview-photo-slider",{effect:"fade",fadeEffect:{crossFade:!0},grabCursor:!0,loop:!1,slidesPerView:1,thumbs:{swiper:r}});e(".product-preview-photo-zoom > a").on("click",(function(){var t=e(".product-preview-photo-slider .swiper-slide-active").data("product-full-preview");e(this).attr("href",t)})),e(".clone-product-summary").length&&window.matchMedia("(max-width: 991.98px)").matches&&e(".product-main-right").appendTo(".clone-product-summary")}));